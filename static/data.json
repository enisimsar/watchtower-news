{"info": {"title": "WatchTower News API", "version": "1.0.0", "description": "WatchTower News API"}, "parameters": {}, "securityDefinitions": {"apiKey": {"description": "API Key for Authorization", "in": "header", "name": "X-API-Key", "type": "apiKey"}}, "options": {"produces": ["application/json"], "consumes": ["application/json"]}, "paths": {"/api/auth": {"post": {"summary": "Create A User", "description": "Create A User", "responses": {"200": {"description": "Create A User"}}, "tags": ["Auth"], "parameters": [{"in": "body", "name": "body", "schema": {"properties": {"invitation_code": {"type": "string", "max_length": 40, "min_length": 40}, "username": {"type": "string"}, "password": {"type": "string"}}, "required": ["username", "password", "invitation_code"], "type": "object"}}]}, "get": {"summary": "Get API key", "description": "Get API key", "responses": {"200": {"description": "Get API key for user."}}, "tags": ["Auth"], "parameters": [{"required": true, "in": "query", "name": "username", "schema": {"type": "string"}}, {"required": true, "in": "query", "name": "password", "schema": {"type": "string"}}]}}, "/api/user": {"post": {"summary": "Refresh User API Token", "description": "Refresh User API Token", "responses": {"200": {"description": "Refresh User API Token"}}, "tags": ["User"], "security": [{"apiKey": []}]}, "get": {"summary": "Get User Profile", "description": "Get User Profile", "responses": {"200": {"description": "Get User Profile", "schema": {"$ref": "#/definitions/User"}}}, "tags": ["User"], "security": [{"apiKey": []}]}}, "/api/topic": {"post": {"summary": "Create A Topic", "parameters": [{"in": "body", "name": "body", "schema": {"properties": {"is_active": {"type": "boolean"}, "description": {"type": "string"}, "keywords": {"items": {"type": "string"}, "type": "array"}, "name": {"type": "string"}, "languages": {"items": {"type": "string"}, "type": "array"}}, "required": ["name", "description", "keywords", "languages"], "type": "object"}}], "security": [{"apiKey": []}], "responses": {"200": {"description": "Create A Topic"}}, "tags": ["Topic"], "description": "Create A Topic"}}, "/api/topic/{topic_id}": {"delete": {"summary": "Delete A Topic", "parameters": [{"required": true, "in": "path", "name": "topic_id", "schema": {"type": "string"}}], "security": [{"apiKey": []}], "responses": {"200": {"description": "Delete A Topic"}}, "tags": ["Topic"], "description": "Delete A Topic"}, "get": {"summary": "Get A Topic", "parameters": [{"required": true, "in": "path", "name": "topic_id", "schema": {"type": "string"}}], "security": [{"apiKey": []}], "responses": {"200": {"description": "Get A Topic", "schema": {"$ref": "#/definitions/Topic"}}}, "tags": ["Topic"], "description": "Get A Topic"}, "put": {"summary": "Update A Topic", "parameters": [{"required": true, "in": "path", "name": "topic_id", "schema": {"type": "string"}}, {"in": "body", "name": "body", "schema": {"properties": {"is_active": {"type": "boolean"}, "description": {"type": "string"}, "keywords": {"items": {"type": "string"}, "type": "array"}, "name": {"type": "string"}, "languages": {"items": {"type": "string"}, "type": "array"}}, "type": "object"}}], "security": [{"apiKey": []}], "responses": {"200": {"description": "Update A Topic"}}, "tags": ["Topic"], "description": "Update A Topic"}}, "/api/topics": {"get": {"summary": "Get Topics for logged User", "description": "Get Topics for logged User", "responses": {"200": {"description": "Get Topics for logged User", "schema": {"items": {"$ref": "#/definitions/Topic"}, "type": "array"}}}, "tags": ["Topic"], "security": [{"apiKey": []}]}}, "/api/single_news/{news_id}": {"delete": {"summary": "Delete A News", "parameters": [{"required": true, "in": "path", "name": "news_id", "schema": {"type": "string"}}], "security": [{"apiKey": []}], "responses": {"200": {"description": "Delete A News"}}, "tags": ["News"], "description": "Delete A News"}, "get": {"summary": "Get A News", "parameters": [{"required": true, "in": "path", "name": "news_id", "schema": {"type": "string"}}], "security": [{"apiKey": []}], "responses": {"200": {"description": "Get A News", "schema": {"$ref": "#/definitions/News"}}}, "tags": ["News"], "description": "Get A News"}}, "/api/news": {"get": {"summary": "Get News for logged User", "parameters": [{"required": true, "in": "query", "name": "topic_id", "schema": {"type": "string"}}, {"in": "query", "name": "skip", "schema": {"type": "integer"}}, {"in": "query", "name": "limit", "schema": {"type": "integer"}}, {"in": "query", "name": "order_field", "schema": {"enum": ["_id", "topic_id", "published_at"], "type": "string"}}, {"in": "query", "name": "order_dir", "schema": {"enum": ["asc", "desc"], "type": "string"}}], "security": [{"apiKey": []}], "responses": {"200": {"description": "Get News for logged User", "schema": {"items": {"$ref": "#/definitions/News"}, "type": "array"}}}, "tags": ["News"], "description": "Get News for logged User"}}, "/api/tweet/{tweet_id}": {"delete": {"summary": "Delete A Tweet", "parameters": [{"required": true, "in": "path", "name": "tweet_id", "schema": {"type": "string"}}], "security": [{"apiKey": []}], "responses": {"200": {"description": "Delete A Tweet"}}, "tags": ["Tweet"], "description": "Delete A Tweet"}, "get": {"summary": "Get A Tweet", "parameters": [{"required": true, "in": "path", "name": "tweet_id", "schema": {"type": "string"}}], "security": [{"apiKey": []}], "responses": {"200": {"description": "Get A Tweet", "schema": {"$ref": "#/definitions/Tweet"}}}, "tags": ["Tweet"], "description": "Get A Tweet"}}, "/api/tweets": {"get": {"summary": "Get Tweets for logged User", "parameters": [{"required": true, "in": "query", "name": "topic_id", "schema": {"type": "string"}}, {"in": "query", "name": "skip", "schema": {"type": "integer"}}, {"in": "query", "name": "limit", "schema": {"type": "integer"}}, {"in": "query", "name": "order_field", "schema": {"enum": ["_id", "topic_id", "published_at"], "type": "string"}}, {"in": "query", "name": "order_dir", "schema": {"enum": ["asc", "desc"], "type": "string"}}], "security": [{"apiKey": []}], "responses": {"200": {"description": "Get Tweets for logged User", "schema": {"items": {"$ref": "#/definitions/Tweet"}, "type": "array"}}}, "tags": ["Tweet"], "description": "Get Tweets for logged User"}}, "/api/invitation": {"post": {"summary": "Create A Invitation", "description": "Create A Invitation", "responses": {"200": {"description": "Create A Invitation"}}, "tags": ["Invitation"], "security": [{"apiKey": []}]}}, "/api/invitation/{invitation_id}": {"delete": {"summary": "Delete A Invitation", "parameters": [{"required": true, "in": "path", "name": "invitation_id", "schema": {"type": "string"}}], "security": [{"apiKey": []}], "responses": {"200": {"description": "Delete A Invitation"}}, "tags": ["Invitation"], "description": "Delete A Invitation"}, "get": {"summary": "Get A Invitation", "parameters": [{"required": true, "in": "path", "name": "invitation_id", "schema": {"type": "string"}}], "security": [{"apiKey": []}], "responses": {"200": {"description": "Get A Invitation", "schema": {"$ref": "#/definitions/Invitation"}}}, "tags": ["Invitation"], "description": "Get A Invitation"}, "put": {"summary": "Update A Invitation", "parameters": [{"required": true, "in": "path", "name": "invitation_id", "schema": {"type": "string"}}, {"in": "body", "name": "body", "schema": {"properties": {"is_active": {"type": "boolean"}}, "required": ["is_active"], "type": "object"}}], "security": [{"apiKey": []}], "responses": {"200": {"description": "Update A Invitation"}}, "tags": ["Invitation"], "description": "Update A Invitation"}}, "/api/invitations": {"get": {"summary": "Get Invitations for logged User", "description": "Get Invitations for logged User", "responses": {"200": {"description": "Get Invitations for logged User", "schema": {"items": {"$ref": "#/definitions/Invitation"}, "type": "array"}}}, "tags": ["Invitation"], "security": [{"apiKey": []}]}}, "/api/logs": {"get": {"summary": "Get Logs", "description": "Get Logs", "responses": {"200": {"description": "Get Logs", "schema": {"items": {"type": "string"}, "type": "array"}}}, "tags": ["Log"], "security": [{"apiKey": []}]}}, "/api/log/{log_file_name}": {"delete": {"summary": "Delete A Log", "parameters": [{"required": true, "in": "path", "name": "log_file_name", "schema": {"type": "string"}}], "security": [{"apiKey": []}], "responses": {"200": {"description": "Delete A Log"}}, "tags": ["Log"], "description": "Delete A Log"}, "get": {"summary": "Get A Log", "parameters": [{"required": true, "in": "path", "name": "log_file_name", "schema": {"type": "string"}}], "security": [{"apiKey": []}], "responses": {"200": {"description": "Get A Log"}}, "tags": ["Log"], "description": "Get A Log"}}}, "tags": [], "swagger": "2.0", "definitions": {"Topic": {"properties": {"id": {"type": "string"}, "user_id": {"type": "string"}, "name": {"maxLength": 20, "type": "string"}, "last_news_at": {"type": "string"}, "created_at": {"type": "string"}, "updated_at": {"type": "string"}, "languages": {"maxItems": 5, "items": {"maxLength": 2, "type": "string"}, "type": "array"}, "is_active": {"type": "boolean"}, "keywords": {"maxItems": 10, "items": {"type": "string"}, "type": "array"}, "last_tweet_at": {"type": "string"}, "description": {"maxLength": 400, "type": "string"}, "domain_filter": {"items": {"type": "string"}, "type": "array"}}, "required": ["description", "name"], "type": "object"}, "News": {"properties": {"title": {"type": "string"}, "id": {"type": "string"}, "summary": {"type": "string"}, "source": {"type": "string"}, "created_at": {"type": "string"}, "authors": {"items": {"type": "string"}, "type": "array"}, "domain": {"type": "string"}, "updated_at": {"type": "string"}, "image": {"format": "url", "type": "string"}, "full_text": {"type": "string"}, "mentions": {"items": {"type": "string"}, "type": "array"}, "published_at": {"x-nullable": true, "format": "date-time", "type": "string"}, "language": {"type": "string"}, "url": {"format": "url", "type": "string"}, "short_links": {"items": {"format": "url", "type": "string"}, "type": "array"}, "topic_id": {"type": "string"}}, "type": "object"}, "User": {"properties": {"api_token": {"minLength": 40, "maxLength": 40, "type": "string"}, "username": {"maxLength": 20, "type": "string"}, "id": {"type": "string"}, "created_at": {"type": "string"}, "updated_at": {"type": "string"}, "password": {"type": "string"}}, "type": "object"}, "Tweet": {"properties": {"entry": {"type": "string"}, "id": {"type": "string"}, "published_at": {"type": "string"}, "created_at": {"type": "string"}, "updated_at": {"type": "string"}, "topic_id": {"type": "string"}}, "type": "object"}, "Invitation": {"properties": {"is_active": {"type": "boolean"}, "id": {"type": "string"}, "user_id": {"type": "string"}, "created_at": {"type": "string"}, "updated_at": {"type": "string"}, "invitation_code": {"type": "string"}}, "type": "object"}}}