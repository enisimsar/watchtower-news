{"info": {"title": "WatchTower News API", "version": "1.0.0", "description": "WatchTower News API"}, "paths": {"/api/auth": {"get": {"tags": ["Auth"], "description": "Get API key", "summary": "Get API key", "parameters": [{"in": "query", "required": true, "name": "username", "schema": {"type": "string"}}, {"in": "query", "required": true, "name": "password", "schema": {"type": "string"}}], "responses": {"200": {"description": "Get API key for user."}}}, "post": {"tags": ["Auth"], "description": "Create A User", "summary": "Create A User", "parameters": [{"in": "body", "name": "body", "schema": {"type": "object", "required": ["username", "password", "invitation_code"], "properties": {"username": {"type": "string"}, "password": {"type": "string"}, "invitation_code": {"type": "string", "min_length": 40, "max_length": 40}}}}], "responses": {"200": {"description": "Create A User"}}}}, "/api/user": {"get": {"tags": ["User"], "description": "Get User Profile", "summary": "Get User Profile", "responses": {"200": {"description": "Get User Profile", "schema": {"$ref": "#/definitions/User"}}}, "security": [{"apiKey": []}]}, "post": {"tags": ["User"], "description": "Refresh User API Token", "summary": "Refresh User API Token", "responses": {"200": {"description": "Refresh User API Token"}}, "security": [{"apiKey": []}]}}, "/api/topic": {"post": {"tags": ["Topic"], "description": "Create A Topic", "summary": "Create A Topic", "parameters": [{"in": "body", "name": "body", "schema": {"type": "object", "required": ["name", "description", "keywords", "languages"], "properties": {"name": {"type": "string"}, "description": {"type": "string"}, "keywords": {"type": "array", "items": {"type": "string"}}, "languages": {"type": "array", "items": {"type": "string"}}, "is_active": {"type": "boolean"}}}}], "responses": {"200": {"description": "Create A Topic"}}, "security": [{"apiKey": []}]}}, "/api/topic/{topic_id}": {"get": {"tags": ["Topic"], "description": "Get A Topic", "summary": "Get A Topic", "parameters": [{"in": "path", "name": "topic_id", "schema": {"type": "string"}, "required": true}], "responses": {"200": {"description": "Get A Topic", "schema": {"$ref": "#/definitions/Topic"}}}, "security": [{"apiKey": []}]}, "delete": {"tags": ["Topic"], "description": "Delete A Topic", "summary": "Delete A Topic", "parameters": [{"in": "path", "name": "topic_id", "schema": {"type": "string"}, "required": true}], "responses": {"200": {"description": "Delete A Topic"}}, "security": [{"apiKey": []}]}, "put": {"tags": ["Topic"], "description": "Update A Topic", "summary": "Update A Topic", "parameters": [{"in": "path", "name": "topic_id", "schema": {"type": "string"}, "required": true}, {"in": "body", "name": "body", "schema": {"type": "object", "properties": {"name": {"type": "string"}, "description": {"type": "string"}, "keywords": {"type": "array", "items": {"type": "string"}}, "languages": {"type": "array", "items": {"type": "string"}}, "is_active": {"type": "boolean"}}}}], "responses": {"200": {"description": "Update A Topic"}}, "security": [{"apiKey": []}]}}, "/api/topics": {"get": {"tags": ["Topic"], "description": "Get Topics for logged User", "summary": "Get Topics for logged User", "responses": {"200": {"description": "Get Topics for logged User", "schema": {"type": "array", "items": {"$ref": "#/definitions/Topic"}}}}, "security": [{"apiKey": []}]}}, "/api/single_news/{news_id}": {"get": {"tags": ["News"], "description": "Get A News", "summary": "Get A News", "parameters": [{"in": "path", "name": "news_id", "schema": {"type": "string"}, "required": true}], "responses": {"200": {"description": "Get A News", "schema": {"$ref": "#/definitions/News"}}}, "security": [{"apiKey": []}]}, "delete": {"tags": ["News"], "description": "Delete A News", "summary": "Delete A News", "parameters": [{"in": "path", "name": "news_id", "schema": {"type": "string"}, "required": true}], "responses": {"200": {"description": "Delete A News"}}, "security": [{"apiKey": []}]}}, "/api/news": {"get": {"tags": ["News"], "description": "Get News for logged User", "summary": "Get News for logged User", "parameters": [{"in": "query", "name": "topic_id", "required": true, "schema": {"type": "string"}}, {"in": "query", "name": "skip", "schema": {"type": "integer"}}, {"in": "query", "name": "limit", "schema": {"type": "integer"}}, {"in": "query", "name": "order_field", "schema": {"type": "string", "enum": ["_id", "topic_id", "published_at"]}}, {"in": "query", "name": "order_dir", "schema": {"type": "string", "enum": ["asc", "desc"]}}], "responses": {"200": {"description": "Get News for logged User", "schema": {"type": "array", "items": {"$ref": "#/definitions/News"}}}}, "security": [{"apiKey": []}]}}, "/api/tweet/{tweet_id}": {"get": {"tags": ["Tweet"], "description": "Get A Tweet", "summary": "Get A Tweet", "parameters": [{"in": "path", "name": "tweet_id", "schema": {"type": "string"}, "required": true}], "responses": {"200": {"description": "Get A Tweet", "schema": {"$ref": "#/definitions/Tweet"}}}, "security": [{"apiKey": []}]}, "delete": {"tags": ["Tweet"], "description": "Delete A Tweet", "summary": "Delete A Tweet", "parameters": [{"in": "path", "name": "tweet_id", "schema": {"type": "string"}, "required": true}], "responses": {"200": {"description": "Delete A Tweet"}}, "security": [{"apiKey": []}]}}, "/api/tweets": {"get": {"tags": ["Tweet"], "description": "Get Tweets for logged User", "summary": "Get Tweets for logged User", "parameters": [{"in": "query", "name": "topic_id", "required": true, "schema": {"type": "string"}}, {"in": "query", "name": "skip", "schema": {"type": "integer"}}, {"in": "query", "name": "limit", "schema": {"type": "integer"}}, {"in": "query", "name": "order_field", "schema": {"type": "string", "enum": ["_id", "topic_id", "published_at"]}}, {"in": "query", "name": "order_dir", "schema": {"type": "string", "enum": ["asc", "desc"]}}], "responses": {"200": {"description": "Get Tweets for logged User", "schema": {"type": "array", "items": {"$ref": "#/definitions/Tweet"}}}}, "security": [{"apiKey": []}]}}, "/api/invitation": {"post": {"tags": ["Invitation"], "description": "Create A Invitation", "summary": "Create A Invitation", "responses": {"200": {"description": "Create A Invitation"}}, "security": [{"apiKey": []}]}}, "/api/invitation/{invitation_id}": {"get": {"tags": ["Invitation"], "description": "Get A Invitation", "summary": "Get A Invitation", "parameters": [{"in": "path", "name": "invitation_id", "schema": {"type": "string"}, "required": true}], "responses": {"200": {"description": "Get A Invitation", "schema": {"$ref": "#/definitions/Invitation"}}}, "security": [{"apiKey": []}]}, "delete": {"tags": ["Invitation"], "description": "Delete A Invitation", "summary": "Delete A Invitation", "parameters": [{"in": "path", "name": "invitation_id", "schema": {"type": "string"}, "required": true}], "responses": {"200": {"description": "Delete A Invitation"}}, "security": [{"apiKey": []}]}, "put": {"tags": ["Invitation"], "description": "Update A Invitation", "summary": "Update A Invitation", "parameters": [{"in": "path", "name": "invitation_id", "schema": {"type": "string"}, "required": true}, {"in": "body", "name": "body", "schema": {"type": "object", "required": ["is_active"], "properties": {"is_active": {"type": "boolean"}}}}], "responses": {"200": {"description": "Update A Invitation"}}, "security": [{"apiKey": []}]}}, "/api/invitations": {"get": {"tags": ["Invitation"], "description": "Get Invitations for logged User", "summary": "Get Invitations for logged User", "responses": {"200": {"description": "Get Invitations for logged User", "schema": {"type": "array", "items": {"$ref": "#/definitions/Invitation"}}}}, "security": [{"apiKey": []}]}}, "/api/logs": {"get": {"tags": ["Log"], "description": "Get Logs", "summary": "Get Logs", "responses": {"200": {"description": "Get Logs", "schema": {"type": "array", "items": {"type": "string"}}}}, "security": [{"apiKey": []}]}}, "/api/log/{log_file_name}": {"get": {"tags": ["Log"], "description": "Get A Log", "summary": "Get A Log", "parameters": [{"in": "path", "name": "log_file_name", "schema": {"type": "string"}, "required": true}], "responses": {"200": {"description": "Get A Log"}}, "security": [{"apiKey": []}]}, "delete": {"tags": ["Log"], "description": "Delete A Log", "summary": "Delete A Log", "parameters": [{"in": "path", "name": "log_file_name", "schema": {"type": "string"}, "required": true}], "responses": {"200": {"description": "Delete A Log"}}, "security": [{"apiKey": []}]}}}, "tags": [], "swagger": "2.0", "definitions": {"User": {"type": "object", "properties": {"id": {"type": "string"}, "updated_at": {"type": "string"}, "username": {"type": "string", "maxLength": 20}, "api_token": {"type": "string", "minLength": 40, "maxLength": 40}, "password": {"type": "string"}, "created_at": {"type": "string"}}}, "Topic": {"type": "object", "properties": {"is_active": {"type": "boolean"}, "id": {"type": "string"}, "description": {"type": "string", "maxLength": 400}, "updated_at": {"type": "string"}, "last_tweet_at": {"type": "string"}, "name": {"type": "string", "maxLength": 20}, "languages": {"type": "array", "maxItems": 5, "items": {"type": "string", "maxLength": 2}}, "domain_filter": {"type": "array", "items": {"type": "string"}}, "keywords": {"type": "array", "maxItems": 10, "items": {"type": "string"}}, "created_at": {"type": "string"}, "user_id": {"type": "string"}, "last_news_at": {"type": "string"}}, "required": ["description", "name"]}, "Invitation": {"type": "object", "properties": {"is_active": {"type": "boolean"}, "id": {"type": "string"}, "updated_at": {"type": "string"}, "code": {"type": "string"}, "created_at": {"type": "string"}, "user_id": {"type": "string"}}}, "News": {"type": "object", "properties": {"short_links": {"type": "array", "items": {"type": "string", "format": "url"}}, "id": {"type": "string"}, "updated_at": {"type": "string"}, "published_at": {"type": "string", "format": "date-time", "x-nullable": true}, "domain": {"type": "string"}, "topic_id": {"type": "string"}, "full_text": {"type": "string"}, "url": {"type": "string", "format": "url"}, "source": {"type": "string"}, "language": {"type": "string"}, "mentions": {"type": "array", "items": {"type": "string"}}, "created_at": {"type": "string"}, "summary": {"type": "string"}, "authors": {"type": "array", "items": {"type": "string"}}, "title": {"type": "string"}, "image": {"type": "string", "format": "url"}}}, "Tweet": {"type": "object", "properties": {"id": {"type": "string"}, "updated_at": {"type": "string"}, "published_at": {"type": "string"}, "topic_id": {"type": "string"}, "entry": {"type": "string"}, "created_at": {"type": "string"}}}}, "parameters": {}, "securityDefinitions": {"apiKey": {"type": "apiKey", "name": "X-API-Key", "in": "header", "description": "API Key for Authorization"}}, "options": {"consumes": ["application/json"], "produces": ["application/json"]}}